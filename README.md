# üéì Voteku Test System

–°–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫—ñ–≤ –∑ Telegram Bot —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º —Ç–∞ –≤–µ–±-–ø–∞–Ω–µ–ª–ª—é –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

## üìã –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

- ‚úÖ **Telegram Bot** –¥–ª—è –ø—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è —Ç–µ—Å—Ç—É
- üìä **–í–µ–±-–ø–∞–Ω–µ–ª—å –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞** –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
- üé≤ **–í–∏–ø–∞–¥–∫–æ–≤–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è** 30 –ø–∏—Ç–∞–Ω—å –∑ –±–∞–Ω–∫—É 90 –ø–∏—Ç–∞–Ω—å
- üíæ **SQLite –±–∞–∑–∞ –¥–∞–Ω–∏—Ö** –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
- üîí **–ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –ø—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è**
- üì± **–ê–¥–∞–ø—Ç–∏–≤–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å**

## üèó –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

```
voteku_test/
‚îú‚îÄ‚îÄ server/              # Backend (Node.js + Express)
‚îÇ   ‚îú‚îÄ‚îÄ bot/            # Telegram Bot
‚îÇ   ‚îú‚îÄ‚îÄ database/       # SQLite —Å—Ö–µ–º–∞ —Ç–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
‚îÇ   ‚îú‚îÄ‚îÄ services/       # –ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ routes/         # API endpoints
‚îú‚îÄ‚îÄ admin/              # Frontend (React + Vite)
‚îÇ   ‚îî‚îÄ‚îÄ src/
‚îÇ       ‚îú‚îÄ‚îÄ components/ # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏
‚îÇ       ‚îî‚îÄ‚îÄ services/   # API –∫–ª—ñ—î–Ω—Ç
‚îî‚îÄ‚îÄ questions.json      # –ë–∞–Ω–∫ –ø–∏—Ç–∞–Ω—å (90 –ø–∏—Ç–∞–Ω—å)
```

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### –ü–µ—Ä–µ–¥—É–º–æ–≤–∏

- Node.js 18+ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
- Telegram Bot Token (–æ—Ç—Ä–∏–º–∞–π—Ç–µ —É [@BotFather](https://t.me/BotFather))

### –ö—Ä–æ–∫ 1: –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ç–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```bash
# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π backend
npm install

# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π admin panel
cd admin
npm install
cd ..
```

### –ö—Ä–æ–∫ 2: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö –æ—Ç–æ—á–µ–Ω–Ω—è

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ–µ–∫—Ç—É:

```env
TELEGRAM_BOT_TOKEN=your_bot_token_here
PORT=3001
NODE_ENV=development
DB_PATH=./voteku_test.db
```

### –ö—Ä–æ–∫ 3: –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

```bash
npm run setup
```

### –ö—Ä–æ–∫ 4: –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º—ñ —Ä–æ–∑—Ä–æ–±–∫–∏

**–ó–∞–ø—É—Å—Ç—ñ—Ç—å backend —Å–µ—Ä–≤–µ—Ä:**
```bash
npm run dev
```

**–í –æ–∫—Ä–µ–º–æ–º—É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ –∑–∞–ø—É—Å—Ç—ñ—Ç—å admin panel:**
```bash
cd admin
npm run dev
```

Backend –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π –Ω–∞ `http://localhost:3001`
Admin Panel –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π –Ω–∞ `http://localhost:5173`

## ü§ñ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Telegram Bot

1. –ó–Ω–∞–π–¥—ñ—Ç—å —Å–≤–æ–≥–æ –±–æ—Ç–∞ –≤ Telegram
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å `/start`
3. –í–≤–µ–¥—ñ—Ç—å —Å–≤–æ—î –Ü–º'—è —Ç–∞ –ü—Ä—ñ–∑–≤–∏—â–µ
4. –í—ñ–¥–ø–æ–≤—ñ–¥–∞–π—Ç–µ –Ω–∞ 30 –ø–∏—Ç–∞–Ω—å, –≤–∏–±–∏—Ä–∞—é—á–∏ –æ–¥–∏–Ω –≤–∞—Ä—ñ–∞–Ω—Ç
5. –û—Ç—Ä–∏–º–∞–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è

## üìä Admin Panel

–í—ñ–¥–∫—Ä–∏–π—Ç–µ `http://localhost:5173` (–≤ dev —Ä–µ–∂–∏–º—ñ) –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É:

- **–ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞**: –°–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, —è–∫—ñ –ø—Ä–æ–π—à–ª–∏ —Ç–µ—Å—Ç
- **–î–µ—Ç–∞–ª—å–Ω–∏–π –ø–µ—Ä–µ–≥–ª—è–¥**: –í—Å—ñ –ø–∏—Ç–∞–Ω–Ω—è —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

## üåê –î–µ–ø–ª–æ–π –Ω–∞ Render.com (–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ)

### 1. –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

```bash
git init
git add .
git commit -m "Initial commit"
git remote add origin <your-github-repo-url>
git push -u origin main
```

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Render Web Service

1. –ó–∞—Ä–µ—î—Å—Ç—Ä—É–π—Ç–µ—Å—è –Ω–∞ [Render.com](https://render.com)
2. –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π **Web Service**
3. –ü—ñ–¥–∫–ª—é—á—ñ—Ç—å —Å–≤—ñ–π GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
4. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:
   - **Name**: `voteku-test-system`
   - **Environment**: `Node`
   - **Build Command**:
     ```bash
     npm install && cd admin && npm install && npm run build
     ```
   - **Start Command**: `npm start`
   - **Instance Type**: Free

### 3. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö –æ—Ç–æ—á–µ–Ω–Ω—è –Ω–∞ Render

–í —Ä–æ–∑–¥—ñ–ª—ñ **Environment** –¥–æ–¥–∞–π—Ç–µ:

```
TELEGRAM_BOT_TOKEN=your_bot_token
NODE_ENV=production
WEBHOOK_URL=https://your-app-name.onrender.com
```

### 4. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Persistent Disk (–¥–ª—è SQLite)

1. –í —Ä–æ–∑–¥—ñ–ª—ñ **Disks** —Å—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π –¥–∏—Å–∫:
   - **Name**: `voteku-db`
   - **Mount Path**: `/opt/render/project/src`
   - **Size**: 1 GB (–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ –¥–æ 1GB)

### 5. –î–µ–ø–ª–æ–π

–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Create Web Service** - Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–¥–µ–ø–ª–æ—ó—Ç—å –≤–∞—à –ø—Ä–æ–µ–∫—Ç!

### 6. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Telegram Webhook

–ü—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—é, Telegram Bot –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –Ω–∞–ª–∞—à—Ç—É—î webhook –Ω–∞ URL –≤–∞—à–æ–≥–æ Render —Å–µ—Ä–≤—ñ—Å—É.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

### `test_sessions`
–ó–±–µ—Ä—ñ–≥–∞—î —Å–µ—Å—ñ—ó —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å |
|------|-----|------|
| id | INTEGER | –ü–µ—Ä–≤–∏–Ω–Ω–∏–π –∫–ª—é—á |
| user_name | TEXT | –Ü–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ |
| telegram_id | INTEGER | Telegram ID (—É–Ω—ñ–∫–∞–ª—å–Ω–∏–π) |
| score | INTEGER | –ù–∞–±—Ä–∞–Ω—ñ –±–∞–ª–∏ |
| total_questions | INTEGER | –ó–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø–∏—Ç–∞–Ω—å (30) |
| status | TEXT | in_progress / completed |
| started_at | DATETIME | –ß–∞—Å –ø–æ—á–∞—Ç–∫—É |
| completed_at | DATETIME | –ß–∞—Å –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è |

### `test_logs`
–î–µ—Ç–∞–ª—å–Ω—ñ –ª–æ–≥–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å |
|------|-----|------|
| id | INTEGER | –ü–µ—Ä–≤–∏–Ω–Ω–∏–π –∫–ª—é—á |
| session_id | INTEGER | –ó–≤'—è–∑–æ–∫ –∑ test_sessions |
| question_id | INTEGER | ID –ø–∏—Ç–∞–Ω–Ω—è |
| question_text | TEXT | –¢–µ–∫—Å—Ç –ø–∏—Ç–∞–Ω–Ω—è |
| options | TEXT | –í–∞—Ä—ñ–∞–Ω—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π (JSON) |
| user_answer_index | INTEGER | –Ü–Ω–¥–µ–∫—Å –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ |
| correct_answer_index | INTEGER | –Ü–Ω–¥–µ–∫—Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ |
| is_correct | INTEGER | –ß–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å (0/1) |
| answered_at | DATETIME | –ß–∞—Å –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ |

## üõ† API Endpoints

### `GET /api/results`
–û—Ç—Ä–∏–º–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö –∑–∞–≤–µ—Ä—à–µ–Ω–∏—Ö —Ç–µ—Å—Ç—ñ–≤

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
[
  {
    "id": 1,
    "user_name": "–Ü–≤–∞–Ω –ü–µ—Ç—Ä–µ–Ω–∫–æ",
    "telegram_id": 123456789,
    "score": 25,
    "total_questions": 30,
    "completed_at": "2024-01-15T10:30:00Z"
  }
]
```

### `GET /api/results/:sessionId`
–û—Ç—Ä–∏–º–∞—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —Ç–µ—Å—Ç

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "sessionInfo": {
    "id": 1,
    "user_name": "–Ü–≤–∞–Ω –ü–µ—Ç—Ä–µ–Ω–∫–æ",
    "score": 25,
    "total_questions": 30
  },
  "logs": [
    {
      "question_text": "–ü–∏—Ç–∞–Ω–Ω—è...",
      "options": ["–í–∞—Ä—ñ–∞–Ω—Ç –ê", "–í–∞—Ä—ñ–∞–Ω—Ç –ë", "–í–∞—Ä—ñ–∞–Ω—Ç –í"],
      "user_answer_index": 0,
      "correct_answer_index": 0,
      "is_correct": true
    }
  ]
}
```

### `GET /api/health`
Health check endpoint

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö –ø–∏—Ç–∞–Ω—å

–†–µ–¥–∞–≥—É–π—Ç–µ —Ñ–∞–π–ª `questions.json`:

```json
{
  "id": 91,
  "question": "–í–∞—à–µ –ø–∏—Ç–∞–Ω–Ω—è?",
  "options": [
    "–í–∞—Ä—ñ–∞–Ω—Ç –ê",
    "–í–∞—Ä—ñ–∞–Ω—Ç –ë",
    "–í–∞—Ä—ñ–∞–Ω—Ç –í"
  ],
  "correctAnswerIndex": 0
}
```

### –ó–º—ñ–Ω–∞ –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –ø–∏—Ç–∞–Ω—å

–í —Ñ–∞–π–ª—ñ `server/services/testService.js` –∑–º—ñ–Ω—ñ—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `count`:

```javascript
export const generateRandomTest = (count = 30) => { // –ó–º—ñ–Ω—ñ—Ç—å 30 –Ω–∞ –ø–æ—Ç—Ä—ñ–±–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å
  // ...
}
```

## üêõ –í—ñ–¥–ª–∞–¥–∫–∞

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

```bash
# –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å sqlite3
npm install -g sqlite3

# –í—ñ–¥–∫—Ä–∏–π—Ç–µ –ë–î
sqlite3 voteku_test.db

# –ü–µ—Ä–µ–≥–ª—è–¥ —Ç–∞–±–ª–∏—Ü—å
.tables

# –ü–µ—Ä–µ–≥–ª—è–¥ –¥–∞–Ω–∏—Ö
SELECT * FROM test_sessions;
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ª–æ–≥—ñ–≤

```bash
# Backend –ª–æ–≥–∏
npm run dev

# –ü–µ—Ä–µ–≥–ª—è–¥ –ø–æ–º–∏–ª–æ–∫ Telegram Bot
# –õ–æ–≥–∏ –≤–∏–≤–æ–¥—è—Ç—å—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å
```

## üìù –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT

## üë• –ê–≤—Ç–æ—Ä–∏

–†–æ–∑—Ä–æ–±–ª–µ–Ω–æ –¥–ª—è Voteku

## üÜò –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–Ø–∫—â–æ –≤–∏–Ω–∏–∫–ª–∏ –ø–∏—Ç–∞–Ω–Ω—è –∞–±–æ –ø—Ä–æ–±–ª–µ–º–∏:
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å TELEGRAM_BOT_TOKEN
3. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ (`npm run setup`)
